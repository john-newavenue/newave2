<% provide(:title, @album.title) if not content_for?(:title) %>

<h3><%= yield(:title) %></h3>
<% if @album.parent and @album.parent.name %>
  <p>by <%= link_to @album.parent.name, vendor_path(@album.parent) %></p>
<% end %>
<% if @album.description %>
  <p><%= @album.description %></p>
<% end %>

<ul class="large-block-grid-3 small-block-grid-2">
    <% @album.items.each do |item| %>
        <% if item.asset %>
        <li class="item item-<%= item.id %>">
            <div class="item-contents-wrapper">
              <p>
                <%= link_to item.asset.image.url do %>
                  <%= image_tag item.asset.image(:medium_square), :data => {:caption => item.asset.image.url} %>
                <% end %>
              </p>
            
              <p><%= !item.title.blank? ? truncate(item.title,:length => 30) : simple_format("&nbsp;") %></p>

              <ul class="button-group">
                <li><%= link_to "#", :class => "button small neutral icon-only" do %><i class="general foundicon-heart"></i><% end %></li>
              </ul>
            </div>
        </li>
        <% end %>
    <% end %>
</ul>

<% if @album.images.count == 0 %>
<hr>
<div class="alert-box secondary">
  <h4>There are no images in this album.</h4>
</div>
<% end %>